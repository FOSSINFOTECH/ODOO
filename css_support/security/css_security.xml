<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data noupdate="0">
		<record model="ir.module.category" id="module_css_support">
	        <field name="name">CSS Manager and User Groups</field>
	        <field name="sequence">0</field>
	        <field name="description">Helps you handle css user groups.</field>
    	</record>
		<record id="group_css_manager" model="res.groups">
	        <field name="name">CSS Support - Manager </field>
	        <field name="category_id" ref="module_css_support"/>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
    	</record>
    	<record id="group_css_user" model="res.groups">
	        <field name="name">CSS Support - User</field>
	        <field name="category_id" ref="module_css_support"/>
    	</record>
        <record id="group_service_engineer" model="res.groups">
            <field name="name">Service Engineer</field>
            <field name="category_id" ref="module_css_support"/>
        </record>

                <!-- Record Rule for css.order class -->

    	<record id="css_toll_free_rule_portal" model="ir.rule">
            <field name="name">Portal Personal calls</field>
            <field name="model_id" ref="css_support.model_css_order"/>
            <field name="domain_force">['|',('create_uid','=',user.id),('create_uid','=', user.id)]</field>
            <field name="groups" eval="[(4, ref('css_support.group_css_user'))]"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
        </record>
        <record model="ir.rule" id="css_toll_free_manager_rule">
            <field name="name">CSS Toll Free manager: see all</field>
            <field name="model_id" ref="model_css_order"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4,ref('css_support.group_css_manager'))]"/>
        </record>

                <!-- Record Rules for crm.claim class-->

        <record id="service_ticket_rule_portal" model="ir.rule">
            <field name="name">Portal Personal service tickets</field>
            <field name="model_id" ref="css_support.model_crm_claim"/>
            <field name="domain_force">['|',('user_id','=',user.id),('user_id', '=', False)]</field>
            <field name="groups" eval="[(4, ref('css_support.group_css_user')),(4, ref('css_support.group_service_engineer'))]"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>

        
        <record model="ir.rule" id="service_ticket_manager_rule">
            <field name="name">Service Ticket Manager: All Service Ticket</field>
            <field name="model_id" ref="css_support.model_crm_claim"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4,ref('css_support.group_css_manager'))]"/>
        </record>
    </data>
</odoo>